<html>
    <head>
      <link href="https://fonts.googleapis.com/css?family=DM+Sans:700&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="/treat/main.css"></link>
      <title data-rh="" data-reactroot="">treat – Setup</title><meta data-rh="" property="og:title" content="treat – Setup" data-reactroot=""/><meta data-rh="" name="twitter:title" content="treat – Setup" data-reactroot=""/>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="icon" type="image/png" sizes="16x16" href="https://seek-oss.github.io/treat/favicon-16x16.png" />
      <link rel="icon" type="image/png" sizes="32x32" href="https://seek-oss.github.io/treat/favicon-32x32.png" />
      <link rel="icon" type="image/png" sizes="96x96" href="https://seek-oss.github.io/treat/favicon-96x96.png" />
      <meta property="og:image" content="https://seek-oss.github.io/treat/og-image.png" />
      <meta property="og:image:width" content="1200">
      <meta property="og:image:height" content="600">
      <meta property="og:type" content="website">
      <meta property="og:site_name" content="treat">
      <meta name="twitter:card" content="summary_large_image">
      <meta name="twitter:image" content="https://seek-oss.github.io/treat/og-image.png" />
    </head>
    <body>
        <div id="app"><div class="_2J50C _22MYm"><div class="_24lIM _22MYm"></div><div class="_24lIM _22MYm"></div><div class="_24lIM _22MYm"></div></div><div class="_1LiiJ_5k _32mJ1 _22MYm"></div><div class="_3lzCJ_5k _3a3Ze _22MYm erp2D _2kAlk _2eJYG"><div class="_3hSgY_5k _22MYm TU1wE _3a3PS _3Pwif _2RJV4"><div class="_3gkhV _22MYm _33Bzv _3VdD- _2M2HN _3OkyS"><div class="_3yNI_"><div class="_22MYm _1s2s-"><a class="_2ylXP_5k _3jCXD_5k _1yaRf_5k" href="/treat/">Introduction</a></div><div class="_22MYm _2eJYG"><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/#requirements">Requirements</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/#basic-usage">Basic usage</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/#themed-usage">Themed usage</a></div></div><div class="_22MYm _1s2s-"><a class="_2ylXP_5k _3jCXD_5k _1yaRf_5k" href="/treat/background">Background</a></div><div class="_22MYm _2eJYG"><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/background#tradeoffs">Tradeoffs</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/background#backstory">Backstory</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/background#thanks">Thanks</a></div></div><div class="_22MYm _1s2s-"><a class="_2ylXP_5k _3jCXD_5k _1yaRf_5k" href="/treat/how-it-works">How it works</a></div><div class="_22MYm _2eJYG"><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/how-it-works#static-extraction">Static extraction</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/how-it-works#theming">Theming</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/how-it-works#runtime">Runtime</a></div></div><div class="_22MYm _1s2s-"><a aria-current="page" class="_2ylXP_5k _3jCXD_5k _1yaRf_5k _1aK93_5k" href="/treat/setup">Setup</a></div><div class="_22MYm _2eJYG"><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/setup#webpack-setup">Webpack Setup</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/setup#babel-setup">Babel Setup</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/setup#debugging">Debugging</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/setup#server-side-rendering">Server side rendering</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/setup#bundle-splitting">Bundle splitting</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/setup#gatsby-setup">Gatsby Setup</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/setup#nextjs-setup">Next.js Setup</a></div></div><div class="_22MYm _1s2s-"><a class="_2ylXP_5k _3jCXD_5k _1yaRf_5k" href="/treat/data-types">Data types</a></div><div class="_22MYm _2eJYG"><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/data-types#styles">Styles</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/data-types#themedstyles">ThemedStyles</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/data-types#theme">Theme</a></div></div><div class="_22MYm _1s2s-"><a class="_2ylXP_5k _3jCXD_5k _1yaRf_5k" href="/treat/styling-api">Styling API</a></div><div class="_22MYm _2eJYG"><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/styling-api#createtheme">createTheme</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/styling-api#style">style</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/styling-api#stylemap">styleMap</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/styling-api#styletree">styleTree</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/styling-api#globalstyle">globalStyle</a></div></div><div class="_22MYm _1s2s-"><a class="_2ylXP_5k _3jCXD_5k _1yaRf_5k" href="/treat/runtime-api">Runtime API</a></div><div class="_22MYm _2eJYG"><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/runtime-api#resolvestyles">resolveStyles</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/runtime-api#resolveclassname">resolveClassName</a></div></div><div class="_22MYm _1s2s-"><a class="_2ylXP_5k _3jCXD_5k _1yaRf_5k" href="/treat/react-api">React API</a></div><div class="_22MYm _2eJYG"><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/react-api#treatprovider">TreatProvider</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/react-api#usestyles">useStyles</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/react-api#useclassname">useClassName</a></div></div><div class="_22MYm _1s2s-"><a class="_2ylXP_5k _3jCXD_5k _1yaRf_5k" href="/treat/webpack-options">Webpack Options</a></div><div class="_22MYm _2eJYG"><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/webpack-options#outputloaders">outputLoaders</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/webpack-options#test">test</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/webpack-options#localidentname">localIdentName</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/webpack-options#themeidentname">themeIdentName</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/webpack-options#minify">minify</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/webpack-options#browsers">browsers</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/webpack-options#outputcss">outputCSS</a></div><div class="_2G8AG _22MYm _2M2HN"><a class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k" href="/treat/webpack-options#hmr">hmr</a></div></div><div class="_22MYm _1s2s-"><a class="_2ylXP_5k _3jCXD_5k _1yaRf_5k" href="/treat/https://www.github.com/seek-oss/treat">Community</a></div><div class="_22MYm _2eJYG"><div class="_2G8AG _22MYm _2M2HN"><a href="https://www.github.com/seek-oss/treat" class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k">GitHub</a></div><div class="_2G8AG _22MYm _2M2HN"><a href="https://spectrum.chat/treatcss" class="_1ionO QzvHS _3jCXD_5k _3-S3p_5k">Spectrum</a></div></div></div></div></div></div><div class="yktBz_5k"><div class="_3hSgY_5k _22MYm TU1wE _3a3PS _3Pwif _2RJV4"><div class="_22MYm _33Bzv _32zDg"><div class="_22MYm _2CVOp"><a href="/treat/"><img src="/treat/3c0f21185028de58e4e604ccdb668206.png" height="36" style="position:relative;left:-6px" alt="treat"/></a><div><div><div class="_22MYm _1aRNy _24Yy-"><h1 class="_1ez5e_5k _2mPRc_5k _1CTZ-_5k _1R3TZ_5k">Setup</h1></div><a id="webpack-setup" class="_2FMJW"></a><a style="text-decoration:none" href="#webpack-setup"><h2 class="_1ez5e_5k _2mPRc_5k _1_liR_5k _3zlAh_5k">Webpack Setup</h2></a><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">To get started, add the treat <a href="https://webpack.js.org/" class="QzvHS _3jCXD_5k _1x7sZ_5k">webpack</a> plugin to <a href="https://webpack.js.org/concepts/configuration" class="QzvHS _3jCXD_5k _1x7sZ_5k"><code class="_2teDl_5k _22MYm">webpack.config.js</code></a>. Since webpack is required to use treat, the webpack plugin is provided via the core <code class="_2teDl_5k _22MYm">treat</code> package as <code class="_2teDl_5k _22MYm">treat/webpack-plugin</code>.</span></p><pre class="_22MYm _2eJYG"><div class="_1PNuj_5k _22MYm _1knNH Z1NYo"><div class="_22MYm _33Bzv _2kAlk _2eJYG _1QAel TU1wE _3a3PS _3Pwif _2RJV4"><div class="_3jCXD_5k _38YDH_5k _1-ZQ2_5k _3eq0n_5k _22MYm"><code class="_2teDl_5k _22MYm"><span class="language-jsx" data-language="jsx" data-highlighted-line-numbers=""><span class="token keyword">const</span> <span class="token punctuation">{</span> TreatPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'treat/webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">TreatPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></div></div></div></pre><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">By default, this will inject styles into the page via <a href="https://github.com/webpack-contrib/style-loader" class="QzvHS _3jCXD_5k _1x7sZ_5k">style-loader</a>, but this can be overridden via the <code class="_2teDl_5k _22MYm">outputLoaders</code> option.</span></p><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">For example, if you’d like to <strong>export static CSS files,</strong> you can wire it up to <a href="https://github.com/webpack-contrib/mini-css-extract-plugin" class="QzvHS _3jCXD_5k _1x7sZ_5k">mini-css-extract-plugin</a>.</span></p><pre class="_22MYm _2eJYG"><div class="_1PNuj_5k _22MYm _1knNH Z1NYo"><div class="_22MYm _33Bzv _2kAlk _2eJYG _1QAel TU1wE _3a3PS _3Pwif _2RJV4"><div class="_3jCXD_5k _38YDH_5k _1-ZQ2_5k _3eq0n_5k _22MYm"><code class="_2teDl_5k _22MYm"><span class="language-jsx" data-language="jsx" data-highlighted-line-numbers=""><span class="token keyword">const</span> <span class="token punctuation">{</span> TreatPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'treat/webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">TreatPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      outputLoaders<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></div></div></div></pre><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">For more configuration options, view the full list of <a class="QzvHS _3jCXD_5k _1x7sZ_5k" href="/treat/webpack-options">webpack options</a>.</span></p><a id="babel-setup" class="_2FMJW"></a><a style="text-decoration:none" href="#babel-setup"><h2 class="_1ez5e_5k _2mPRc_5k _1_liR_5k _3zlAh_5k">Babel Setup</h2></a><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">In order to improve the <a class="QzvHS _3jCXD_5k _1x7sZ_5k" href="/treat/setup#debugging">debugging</a> experience, treat also provides an optional Babel plugin.</span></p><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">First, install the plugin:</span></p><pre class="_22MYm _2eJYG"><div class="_1PNuj_5k _22MYm _1knNH Z1NYo"><div class="_22MYm _33Bzv _2kAlk _2eJYG _1QAel TU1wE _3a3PS _3Pwif _2RJV4"><div class="_3jCXD_5k _38YDH_5k _1-ZQ2_5k _3eq0n_5k _22MYm"><code class="_2teDl_5k _22MYm"><span class="language-bash" data-language="bash" data-highlighted-line-numbers="">$ <span class="token function">yarn</span> <span class="token function">add</span> --dev babel-plugin-treat
</span></code></div></div></div></pre><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">Then, add it to your Babel config. For example, in <code class="_2teDl_5k _22MYm">.babelrc</code>:</span></p><pre class="_22MYm _2eJYG"><div class="_1PNuj_5k _22MYm _1knNH Z1NYo"><div class="_22MYm _33Bzv _2kAlk _2eJYG _1QAel TU1wE _3a3PS _3Pwif _2RJV4"><div class="_3jCXD_5k _38YDH_5k _1-ZQ2_5k _3eq0n_5k _22MYm"><code class="_2teDl_5k _22MYm"><span class="language-jsx" data-language="jsx" data-highlighted-line-numbers=""><span class="token punctuation">{</span>
  <span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"babel-plugin-treat"</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></div></div></div></pre><a id="debugging" class="_2FMJW"></a><a style="text-decoration:none" href="#debugging"><h2 class="_1ez5e_5k _2mPRc_5k _1_liR_5k _3zlAh_5k">Debugging</h2></a><div class="_37vj9_5k _22MYm _1MTw2 _2cdRf _1XTZB _2gdnY"><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">Note: This can be automated via our <a class="QzvHS _3jCXD_5k _1x7sZ_5k" href="/treat/setup#babel-setup">Babel plugin</a>.</span></p></div><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">All styling APIs (except for <a class="QzvHS _3jCXD_5k _1x7sZ_5k" href="/treat/styling-api#globalstyle"><code class="_2teDl_5k _22MYm">globalStyle</code></a>) have an optional argument that allows you to provide a local debug name.</span></p><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">For example, the local name for the following style will be <code class="_2teDl_5k _22MYm">style</code> by default because treat doesn’t have access to your variable name at runtime.</span></p><pre class="_22MYm _2eJYG"><div class="_1PNuj_5k _22MYm _1knNH Z1NYo"><div class="_22MYm _33Bzv _2kAlk _2eJYG _1QAel TU1wE _3a3PS _3Pwif _2RJV4"><div class="_3jCXD_5k _38YDH_5k _1-ZQ2_5k _3eq0n_5k _22MYm"><code class="_2teDl_5k _22MYm"><span class="language-jsx" data-language="jsx" data-highlighted-line-numbers=""><span class="token keyword">export</span> <span class="token keyword">const</span> green <span class="token operator">=</span> <span class="token function">style</span><span class="token punctuation">(</span><span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">'green'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></div></div></div></pre><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">To fix this, you can pass in a debug name as the last argument:</span></p><pre class="_22MYm _2eJYG"><div class="_1PNuj_5k _22MYm _1knNH Z1NYo"><div class="_22MYm _33Bzv _2kAlk _2eJYG _1QAel TU1wE _3a3PS _3Pwif _2RJV4"><div class="_3jCXD_5k _38YDH_5k _1-ZQ2_5k _3eq0n_5k _22MYm"><code class="_2teDl_5k _22MYm"><span class="language-jsx" data-language="jsx" data-highlighted-line-numbers=""><span class="token keyword">export</span> <span class="token keyword">const</span> green <span class="token operator">=</span> <span class="token function">style</span><span class="token punctuation">(</span><span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">'green'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></div></div></div></pre><a id="server-side-rendering" class="_2FMJW"></a><a style="text-decoration:none" href="#server-side-rendering"><h2 class="_1ez5e_5k _2mPRc_5k _1_liR_5k _3zlAh_5k">Server side rendering</h2></a><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">Server-rendered apps will likely be running two webpack builds (one for the browser code, and one for the server code). The server config should disable CSS output by setting <code class="_2teDl_5k _22MYm">outputCSS</code> to <code class="_2teDl_5k _22MYm">false</code>.</span></p><pre class="_22MYm _2eJYG"><div class="_1PNuj_5k _22MYm _1knNH Z1NYo"><div class="_22MYm _33Bzv _2kAlk _2eJYG _1QAel TU1wE _3a3PS _3Pwif _2RJV4"><div class="_3jCXD_5k _38YDH_5k _1-ZQ2_5k _3eq0n_5k _22MYm"><code class="_2teDl_5k _22MYm"><span class="language-jsx" data-language="jsx" data-highlighted-line-numbers=""><span class="token keyword">const</span> <span class="token punctuation">{</span> TreatPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'treat/webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">TreatPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      outputCSS<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></div></div></div></pre><a id="bundle-splitting" class="_2FMJW"></a><a style="text-decoration:none" href="#bundle-splitting"><h2 class="_1ez5e_5k _2mPRc_5k _1_liR_5k _3zlAh_5k">Bundle splitting</h2></a><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">If you’d like to dynamically load themes, treat supports bundle splitting via <a href="https://webpack.js.org/guides/code-splitting/#dynamic-imports" class="QzvHS _3jCXD_5k _1x7sZ_5k">webpack dynamic imports</a> with no special setup.</span></p><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">In practice, it’s likely you’ll want to split your themes into separate CSS files. This is achieved by dynamic importing your treat files that call <a class="QzvHS _3jCXD_5k _1x7sZ_5k" href="/treat/styling-api#createtheme"><code class="_2teDl_5k _22MYm">createTheme</code></a>.</span></p><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">Let’s assume you have a set of theme files that look like this:</span></p><pre class="_22MYm _2eJYG"><div class="_1PNuj_5k _22MYm _1knNH Z1NYo"><div class="_22MYm _33Bzv _2kAlk _2eJYG _1QAel TU1wE _3a3PS _3Pwif _2RJV4"><div class="_3jCXD_5k _38YDH_5k _1-ZQ2_5k _3eq0n_5k _22MYm"><code class="_2teDl_5k _22MYm"><span class="language-jsx" data-language="jsx" data-highlighted-line-numbers=""><span class="token comment">// mainTheme.treat.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createTheme <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'treat'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createTheme</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// Theme variables...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></div></div></div></pre><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">You can then dynamically load the desired theme and use it to resolve styles.</span></p><pre class="_22MYm _2eJYG"><div class="_1PNuj_5k _22MYm _1knNH Z1NYo"><div class="_22MYm _33Bzv _2kAlk _2eJYG _1QAel TU1wE _3a3PS _3Pwif _2RJV4"><div class="_3jCXD_5k _38YDH_5k _1-ZQ2_5k _3eq0n_5k _22MYm"><code class="_2teDl_5k _22MYm"><span class="language-jsx" data-language="jsx" data-highlighted-line-numbers=""><span class="token keyword">import</span> <span class="token punctuation">{</span> resolveStyles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'treat'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> styleRefs <span class="token keyword">from</span> <span class="token string">'./styles.treat'</span><span class="token punctuation">;</span>

<span class="token comment">// Inject the theme name somehow:</span>
<span class="token keyword">const</span> themeName <span class="token operator">=</span> <span class="token function">getThemeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">../themes/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>themeName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.treat</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">theme</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> styles <span class="token operator">=</span> <span class="token function">resolveStyles</span><span class="token punctuation">(</span>theme<span class="token punctuation">.</span>default<span class="token punctuation">,</span> styleRefs<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// You now have access to themed styles!</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></div></div></div></pre><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">If you’re using the <a class="QzvHS _3jCXD_5k _1x7sZ_5k" href="/treat/react-api">React API</a>, you’ll want to provide the theme to your <a class="QzvHS _3jCXD_5k _1x7sZ_5k" href="/treat/react-api#treatprovider"><code class="_2teDl_5k _22MYm">TreatProvider</code></a>.</span></p><a id="gatsby-setup" class="_2FMJW"></a><a style="text-decoration:none" href="#gatsby-setup"><h2 class="_1ez5e_5k _2mPRc_5k _1_liR_5k _3zlAh_5k">Gatsby Setup</h2></a><div class="_37vj9_5k _22MYm _1MTw2 _2cdRf _1XTZB _2gdnY"><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">Warning: <code class="_2teDl_5k _22MYm">gatsby-plugin-treat</code> is not yet working with treat v2.</span></p></div><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">To use <code class="_2teDl_5k _22MYm">treat</code> in a <a href="https://www.gatsbyjs.org" class="QzvHS _3jCXD_5k _1x7sZ_5k">Gatsby</a> project, install <code class="_2teDl_5k _22MYm">gatsby-plugin-treat</code> and add it to your <code class="_2teDl_5k _22MYm">gatsby-config.js</code> file like this:</span></p><pre class="_22MYm _2eJYG"><div class="_1PNuj_5k _22MYm _1knNH Z1NYo"><div class="_22MYm _33Bzv _2kAlk _2eJYG _1QAel TU1wE _3a3PS _3Pwif _2RJV4"><div class="_3jCXD_5k _38YDH_5k _1-ZQ2_5k _3eq0n_5k _22MYm"><code class="_2teDl_5k _22MYm"><span class="language-jsx" data-language="jsx" data-highlighted-line-numbers="">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'gatsby-plugin-treat'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></div></div></div></pre><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">You can also provide <a class="QzvHS _3jCXD_5k _1x7sZ_5k" href="/treat/webpack-options">webpack options</a> to the plugin:</span></p><pre class="_22MYm _2eJYG"><div class="_1PNuj_5k _22MYm _1knNH Z1NYo"><div class="_22MYm _33Bzv _2kAlk _2eJYG _1QAel TU1wE _3a3PS _3Pwif _2RJV4"><div class="_3jCXD_5k _38YDH_5k _1-ZQ2_5k _3eq0n_5k _22MYm"><code class="_2teDl_5k _22MYm"><span class="language-jsx" data-language="jsx" data-highlighted-line-numbers="">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      resolve<span class="token operator">:</span> <span class="token string">'gatsby-plugin-treat'</span><span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// Plugin options go here...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></div></div></div></pre><a id="nextjs-setup" class="_2FMJW"></a><a style="text-decoration:none" href="#nextjs-setup"><h2 class="_1ez5e_5k _2mPRc_5k _1_liR_5k _3zlAh_5k">Next.js Setup</h2></a><div class="_37vj9_5k _22MYm _1MTw2 _2cdRf _1XTZB _2gdnY"><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">Warning: <code class="_2teDl_5k _22MYm">next-treat</code> is not yet working with treat v2.</span></p></div><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">To use <code class="_2teDl_5k _22MYm">treat</code> in a <a href="https://nextjs.org" class="QzvHS _3jCXD_5k _1x7sZ_5k">Next.js</a> project, install <code class="_2teDl_5k _22MYm">next-treat</code> and add it to your <code class="_2teDl_5k _22MYm">next.config.js</code> file like this:</span></p><pre class="_22MYm _2eJYG"><div class="_1PNuj_5k _22MYm _1knNH Z1NYo"><div class="_22MYm _33Bzv _2kAlk _2eJYG _1QAel TU1wE _3a3PS _3Pwif _2RJV4"><div class="_3jCXD_5k _38YDH_5k _1-ZQ2_5k _3eq0n_5k _22MYm"><code class="_2teDl_5k _22MYm"><span class="language-jsx" data-language="jsx" data-highlighted-line-numbers=""><span class="token keyword">const</span> withTreat <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'next-treat'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token comment">/* Extra TreatPlugin options */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">withTreat</span><span class="token punctuation">(</span><span class="token comment">/* Additional Next.js configuration */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></div></div></div></pre><p class="_22MYm N7Q-z"><span class="_3jCXD_5k _1x7sZ_5k _3SytU_5k _3eq0n_5k _3pqXu_5k _22MYm">Debugging experience can be improved by <a class="QzvHS _3jCXD_5k _1x7sZ_5k" href="/treat/setup#babel-setup">setting up the Babel plugin</a> with the <code class="_2teDl_5k _22MYm">.babelrc</code> below:</span></p><pre class="_22MYm _2eJYG"><div class="_1PNuj_5k _22MYm _1knNH Z1NYo"><div class="_22MYm _33Bzv _2kAlk _2eJYG _1QAel TU1wE _3a3PS _3Pwif _2RJV4"><div class="_3jCXD_5k _38YDH_5k _1-ZQ2_5k _3eq0n_5k _22MYm"><code class="_2teDl_5k _22MYm"><span class="language-jsx" data-language="jsx" data-highlighted-line-numbers=""><span class="token punctuation">{</span>
  <span class="token string">"presets"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"next/babel"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"babel-plugin-treat"</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></code></div></div></div></pre></div><div style="float:left"><div class="_22MYm _1sdeb _2CVOp _16aHc PJujh _3Pi6G"><svg width="16" height="16" viewBox="0 0 1024 1024" class="_1died _11MMs"><path d="M945 266l78 67-510 524-510-524 75-69 435 451 432-449z"></path></svg><div class="_22MYm _16kxx _2iMK- _3Gsjd"><a class="QzvHS _3jCXD_5k _1x7sZ_5k" href="/treat/how-it-works">How it works</a></div></div></div><div style="float:right"><div class="_22MYm _1sdeb _2CVOp _16aHc PJujh _3Pi6G"><div class="_22MYm _16kxx _2iMK- _3Gsjd"><a class="QzvHS _3jCXD_5k _1x7sZ_5k" href="/treat/data-types">Data types</a></div><svg width="16" height="16" viewBox="0 0 1024 1024" class="_1died _1_Tsl"><path d="M945 266l78 67-510 524-510-524 75-69 435 451 432-449z"></path></svg></div></div></div></div></div></div></div></div>
        <script>window.BASE_URL = "/treat";</script>
        <script src="/treat/client.js"></script>
    </body>
  </html>